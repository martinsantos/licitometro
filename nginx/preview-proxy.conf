# Nginx reverse proxy for preview environments
# This file is dynamically generated - DO NOT EDIT MANUALLY

# Upstream definitions (one per preview)
# These will be populated by deploy-preview.sh script

# Default server (catches unknown subdomains)
server {
    listen 80 default_server;
    listen [::]:80 default_server;

    server_name _;

    return 404 "Preview not found. Use pr-<number>.dev.licitometro.ar";
}

# Base domain redirect
server {
    listen 80;
    listen [::]:80;

    server_name dev.licitometro.ar;

    return 404 "Preview not specified. Use pr-<number>.dev.licitometro.ar";
}

# Preview server blocks will be included here
include /etc/nginx/previews.d/*.conf;
